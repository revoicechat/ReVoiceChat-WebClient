<!DOCTYPE html>
<html lang="en" data-theme="default">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />

    <link href="src/css/tailwind.css" rel="stylesheet" />
    <link href="src/css/main.css" rel="stylesheet" />
    <link href="src/css/themes.css" rel="stylesheet" />
    <link rel="shortcut icon" type="image/png" href="src/img/favicon.png" />
    <title>ReVoiceChat - Server config</title>
</head>

<body class="fadein">
    <!-- Main Container -->
    <div class="config">
        <div class="config-container-left">
            <div class="config-left">
              <div class="category">
                <h2>Server settings</h2>
                <!-- Overview -->
                <button class="sub-category" id="overview" onclick="selectConfigItem('overview')">
                  <revoice-icon-information></revoice-icon-information> Overview
                </button>
                <!-- Rooms -->
                <button class="sub-category" id="rooms" onclick="selectConfigItem('rooms')">
                  <revoice-icon-chat-bubble></revoice-icon-chat-bubble> Rooms
                </button>
              </div>
              <div class="category">
                <h2>User Management</h2>
                <!-- Members -->
                <button class="sub-category" id="members" onclick="selectConfigItem('members')">
                  <revoice-icon-users></revoice-icon-users> Members
                </button>
                <!-- Invitation -->
                <button class="sub-category" id="invitations" onclick="selectConfigItem('invitations')">
                  <revoice-icon-envelope></revoice-icon-envelope> Invitations
                </button>
              </div>
              <div class="category">
                <h2>&nbsp;</h2>
                <!-- Exit config -->
                <button class="sub-category" onclick="document.location.href = 'app.html'">
                    <revoice-icon-circle-x></revoice-icon-circle-x> Exit
                </button>
              </div>
            </div>
        </div>

        <div class="config-container-right">
            <div class="config-right">
                <!-- Overview -->
                <div class="hidden" id="overview-config">
                    <h1>Overview</h1>
                    <p>Server ID : <span id="config-server-uuid" class="selectable">[SERVER UUID]</span></p>
                    <h2>Server name</h2>
                    <input type="text" id="config-server-name" value="[SERVER NAME]" onchange="updateServerName(this)">
                </div>

                <!-- Rooms -->
                <div class="hidden" id="rooms-config">
                    <h1>Rooms</h1>

                    <div class="server-structure-add-buttons">
                        <button onclick="roomAdd()">
                            <revoice-icon-circle-plus></revoice-icon-circle-plus>
                            Room
                        </button>
                        <button onclick="categoryAdd()">
                            <revoice-icon-folder-plus></revoice-icon-folder-plus>
                            Category
                        </button>
                        <button onclick="showStructureAsJSON()">
                            <revoice-icon-eye-open></revoice-icon-eye-open>
                            JSON
                        </button>
                    </div>
                    <div class="server-structure-container">
                        <div class="server-structure-panel">
                            <div class="server-structure-tree-container" id="treeContainer">
                                <div class="server-structure-drop-zone" id="rootDropZone"></div>
                            </div>
                        </div>
                    </div>

                    <div class="server-structure-modal" id="jsonModal">
                        <div class="server-structure-modal-large server-structure-modal-content">
                            <h3>ðŸ“‹ Structure JSON</h3>
                            <div class="server-structure-form-group">
                                <pre class="server-structure-json-output" id="jsonOutput"></pre>
                            </div>
                            <div style="margin-top: 15px; display: flex; justify-content: space-between;">
                                <div>
                                    <button class="config-right" onclick="exportJSON()">ðŸ’¾ Export as JSON</button>
                                    <button class="config-right" onclick="importJSON()">ðŸ“¥ Import structure</button>
                                </div>
                                <div>
                                    <button class="config-right" onclick="closeModal()">Exit</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="config-button" onclick="structureSave()">Save</button>
                </div>

                <!-- Members -->
                <div class="hidden" id="members-config">
                    <h1>Members</h1>
                    <div id="config-members-list" class="config-members-list">
                        <!-- JS -->
                    </div>
                </div>

                <!-- Invitations -->
                <div class="hidden" id="invitations-config">
                    <h1>Invitations</h1>
                    <button onclick="configAddInvitation()">New invitation</button>
                    <br /><br />
                    <div id="config-invitations-list" class="config-invitation-list">
                        <!-- JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="src/js/lib/sweetalert2.min.js"></script>
    <script src="src/js/app.js"></script>
    <script src="src/js/lib/tools.js"></script>
    <script src="src/js/config.js"></script>
    <script src="src/js/component/icon.component.js"></script>
</body>

</html>